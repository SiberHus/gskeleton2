(function(a){a.fn.treeview=function(c){var d=jQuery.extend({cookie_name:"treeview",leafClass:"leaf",nodeClass:"node",expandableClass:"expandable",collapsableClass:"collapsable",animate:{height:"toggle"},speed:"slow"},c);var b=this;if(!b.hasClass("treeview")){b.addClass("treeview")}a("li",b).each(function(){subbranch=a("ul:first",this);if(a.cookie(d.cookie_name+a(this).attr("id"))=="block"){subbranch.show()}else{subbranch.hide()}if(a(this).hasClass("open")){a(this).parents("ul").show();a(this).removeClass("open");subbranch.show()}});a("li",b).each(function(){subbranch=a("ul:first",this);if(subbranch.size()!=0){a(this).prepend('<div class="hitarea"></div>');if(subbranch.eq(0).css("display")=="none"){a(this).find("div").addClass(d.expandableClass)}else{a(this).find("div").addClass(d.collapsableClass)}}else{}});a("div.hitarea",b).click(function(){var e=a(this).parent();var f=a("ul:first",e);if(f.css("display")=="none"){a.cookie(d.cookie_name+e.attr("id"),"block",{path:"/"})}else{a.cookie(d.cookie_name+e.attr("id"),"none",{path:"/"})}f.animate(d.animate,d.speed);a(this).toggleClass(d.expandableClass).toggleClass(d.collapsableClass)});return b}})(jQuery);